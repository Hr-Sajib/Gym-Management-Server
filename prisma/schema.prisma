generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Trainee {
  id              String   @id @default(uuid())
  name            String
  email           String   @unique
  password        String
  phone           String?
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  enrolledClasses Class[]  @relation("TraineeClasses") // âœ… fixed: removed `references`
}

model Trainer {
  id               String   @id @default(uuid())
  name             String
  email            String   @unique
  password         String
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt

  assignedClasses  Class[]  @relation("AssignedClasses")
  conductedClasses Class[]  @relation("ConductedClasses")
}

model Class {
  id                  String     @id @default(uuid())
  schedule            String
  date                DateTime
  createdAt           DateTime   @default(now())
  updatedAt           DateTime   @updatedAt

  assignedTrainerId   String?
  assignedTrainer     Trainer?   @relation("AssignedClasses", fields: [assignedTrainerId], references: [id])

  conductedTrainerId  String?
  conductedTrainer    Trainer?   @relation("ConductedClasses", fields: [conductedTrainerId], references: [id])

  enrolledTrainees    Trainee[]  @relation("TraineeClasses") 

}
